Threshold Sensitivity Analysis
======================================================================
 Thresh |     Approved |    Withdrawn |   Accuracy |     F1
----------------------------------------------------------------------
   0.15 |       100.0% |         0.0% |      92.8% |  0.963 <-- Best F1
   0.20 |        54.0% |        76.2% |      55.6% |  0.693
   0.25 |        46.7% |        81.0% |      49.1% |  0.630
   0.30 |        43.8% |        85.7% |      46.8% |  0.604
   0.35 |        29.8% |       100.0% |      34.8% |  0.459
   0.40 |        27.9% |       100.0% |      33.1% |  0.437
   0.45 |        27.2% |       100.0% |      32.4% |  0.428
   0.50 |        17.3% |       100.0% |      23.2% |  0.295

Optimal Threshold: 0.15 (F1=0.963)

Feature Analysis: Why are approved drugs flagged as FAIL?
======================================================================
False Positives (Approved but FAIL): 225
True Positives (Approved and SUCCESS): 47

Feature Comparison:
  Dose (mg/kg):    FP mean=0.73, TP mean=766.50
  Half-life (h):   FP mean=115.3, TP mean=727.3

Root Cause Analysis:
----------------------------------------------------------------------
The model was trained on simulation data where:
  - Low dose + short half-life = FAIL (efficacy failure)
  - High dose + long half-life = SUCCESS

However, many approved drugs in DrugBank have low mg/kg doses because:
  1. They are highly potent (low dose needed for efficacy)
  2. Unit conversion issues (mg vs mcg, total vs per kg)
  3. Different administration routes (IV bolus vs infusion)

SOLUTION OPTIONS:
  1. Adjust threshold: Use 0.35 instead of 0.5 for balanced performance
  2. Add potency adjustment: Consider KD/EC50 to normalize dose
  3. Retrain with real data: Fine-tune on DrugBank data
